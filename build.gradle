/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java Library project to get you started.
 * For more details take a look at the Java Libraries chapter in the Gradle
 * User Manual available at https://docs.gradle.org/6.0/userguide/java_library_plugin.html
 */
plugins {
    id 'java-library'
    id "io.qameta.allure" version "2.8.1"
    id "org.gradle.test-retry" version "1.1.9"
}

allure {
    version = '2.8.1'
    aspectjweaver = true
    allureJavaVersion = 2.9
}


test {
    retry {
        maxRetries =  System.getProperty('retryCount','0').toInteger()
        maxFailures = 0
        failOnPassedAfterRetry = true
    }
    ignoreFailures = true
    systemProperty 'browser', System.getProperty('browser', 'chrome')
    systemProperty 'platform', System.getProperty('platform', 'local')
    systemProperty 'env', System.getProperty('env', 'QA')
    systemProperty 'updateJira', System.getProperty('updateJira', 'false')
    systemProperty 'testExecutionId', System.getProperty('testExecutionId', '0000')
    useTestNG() { //This is for Gradle to use TestNG
        //Add your own Custom listener
        useDefaultListeners = true
        outputDirectory = file("$projectDir/testngOutput")
        listeners.add('TestListeners.TestListener')
        suites 'src/main/resources/temp.xml'
    }
}
task tempContent(type: Test) {
    retry {
        maxRetries =  System.getProperty('retryCount','0').toInteger()
        maxFailures = 0
        failOnPassedAfterRetry = true
    }
    ignoreFailures = true
    systemProperty 'browser', System.getProperty('browser', 'chrome')
    systemProperty 'platform', System.getProperty('platform', 'local')
    systemProperty 'env', System.getProperty('env', 'QA')
    systemProperty 'updateJira', System.getProperty('updateJira', 'false')
    systemProperty 'testExecutionId', System.getProperty('testExecutionId', '0000')
    useTestNG() { //This is for Gradle to use TestNG
        //No need to add Custome Listener
        // It will be provided by the TESTNG.XML
        //listeners.add('TestListeners.TestListener')
        useDefaultListeners = true
        outputDirectory = file("$projectDir/testngOutput")
        suites 'src/main/resources/tempContent.xml'
    }
}
task regressionWCMS(type: Test) {
    retry {
        maxRetries =  System.getProperty('retryCount','0').toInteger()
        maxFailures = 0
        failOnPassedAfterRetry = true
    }
    ignoreFailures = true
    systemProperty 'browser', System.getProperty('browser', 'chrome')
    systemProperty 'platform', System.getProperty('platform', 'local')
    systemProperty 'env', System.getProperty('env', 'QA')
    systemProperty 'updateJira', System.getProperty('updateJira', 'false')
    systemProperty 'testExecutionId', System.getProperty('testExecutionId', '0000')
    useTestNG() { //This is for Gradle to use TestNG
        //No need to add Custome Listener
        // It will be provided by the TESTNG.XML
        //listeners.add('TestListeners.TestListener')
        useDefaultListeners = true
        outputDirectory = file("$projectDir/testngOutput")
        suites 'src/main/resources/WCMSRegression.xml'
    }
}
task content(type: Test) {
    retry {
        maxRetries =  System.getProperty('retryCount','0').toInteger()
        maxFailures = 0
        failOnPassedAfterRetry = true
    }
    ignoreFailures = true
    systemProperty 'browser', System.getProperty('browser', 'chrome')
    systemProperty 'platform', System.getProperty('platform', 'local')
    systemProperty 'env', System.getProperty('env', 'QA')
    systemProperty 'updateJira', System.getProperty('updateJira', 'false')
    systemProperty 'testExecutionId', System.getProperty('testExecutionId', '0000')
    useTestNG() { //This is for Gradle to use TestNG
        //No need to add Custome Listener
        // It will be provided by the TESTNG.XML
        //listeners.add('TestListeners.TestListener')
        useDefaultListeners = true
        outputDirectory = file("$projectDir/testngOutput")
        suites 'src/main/resources/contentValidation.xml'
    }
}
repositories {
    // Use jcenter for resolving dependencies.
    // You can declare any Maven/Ivy/file repository here.
    jcenter()
    mavenCentral()
}

dependencies {
    implementation "com.oracle.ojdbc:ojdbc8:19.3.0.0"
    implementation('io.qameta.allure:allure-okhttp3:2.10.0')
    // https://mvnrepository.com/artifact/org.postgresql/postgresql
    implementation group: 'org.postgresql', name: 'postgresql', version: '42.2.18'
// https://mvnrepository.com/artifact/io.appium/java-client
    implementation group: 'io.appium', name: 'java-client', version: '7.3.0'

    // https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java
    implementation group: 'org.seleniumhq.selenium', name: 'selenium-java', version: '3.141.59'

// https://mvnrepository.com/artifact/org.testng/testng
    implementation group: 'org.testng', name: 'testng', version: '7.0.0'
// https://mvnrepository.com/artifact/com.relevantcodes/extentreports
    implementation group: 'com.relevantcodes', name: 'extentreports', version: '2.41.2'

// https://mvnrepository.com/artifact/io.rest-assured/rest-assured
    implementation group: 'io.rest-assured', name: 'rest-assured', version: '4.2.0'
// https://mvnrepository.com/artifact/io.rest-assured/json-path
    implementation group: 'io.rest-assured', name: 'json-path', version: '4.2.0'
// https://mvnrepository.com/artifact/io.rest-assured/json-schema-validator
    implementation group: 'io.rest-assured', name: 'json-schema-validator', version: '4.2.0'

// https://mvnrepository.com/artifact/org.apache.poi/poi
    implementation group: 'org.apache.poi', name: 'poi', version: '4.1.2'

// https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml
    implementation group: 'org.apache.poi', name: 'poi-ooxml', version: '4.1.2'

// https://mvnrepository.com/artifact/org.apache.poi/poi-scratchpad
    implementation group: 'org.apache.poi', name: 'poi-scratchpad', version: '4.1.2'

// https://mvnrepository.com/artifact/org.apache.xmlbeans/xmlbeans
    implementation group: 'org.apache.xmlbeans', name: 'xmlbeans', version: '3.1.0'

// https://mvnrepository.com/artifact/com.github.virtuald/curvesapi
    implementation group: 'com.github.virtuald', name: 'curvesapi', version: '1.06'

// https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml-schemas
    implementation group: 'org.apache.poi', name: 'poi-ooxml-schemas', version: '4.1.2'

// https://mvnrepository.com/artifact/ru.yandex.qatools.ashot/ashot
    implementation group: 'ru.yandex.qatools.ashot', name: 'ashot', version: '1.5.3'

// https://mvnrepository.com/artifact/org.apache.commons/commons-email
    implementation group: 'org.apache.commons', name: 'commons-email', version: '1.5'
// https://mvnrepository.com/artifact/log4j/log4j
    implementation group: 'log4j', name: 'log4j', version: '1.2.17'
    implementation 'com.github.stephenc.monte:monte-screen-recorder:0.7.7.0'
    // https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12
    //implementation group: 'org.slf4j', name: 'slf4j-log4j12', version: '1.7.30'


// https://mvnrepository.com/artifact/io.qameta.allure/allure-testng
    testImplementation group: 'io.qameta.allure', name: 'allure-testng', version: '2.8.1'

// https://mvnrepository.com/artifact/org.apache.commons/commons-text
    implementation group: 'org.apache.commons', name: 'commons-text', version: '1.8'

// https://mvnrepository.com/artifact/commons-configuration/commons-configuration
    implementation group: 'commons-configuration', name: 'commons-configuration', version: '1.10'

// https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core
 //   implementation group: 'com.fasterxml.jackson.core', name: 'jackson-core', version: '2.11.3'


// https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core
    implementation group: 'com.fasterxml.jackson.core', name: 'jackson-core', version: '2.9.3'

    // https://mvnrepository.com/artifact/org.json/json
    implementation group: 'org.json', name: 'json', version: '20200518'
// https://mvnrepository.com/artifact/com.sikulix/sikulixapi
    implementation group: 'com.sikulix', name: 'sikulixapi', version: '2.0.0'

// https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind
    implementation group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.12.3'
    // https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core
    implementation group: 'com.fasterxml.jackson.core', name: 'jackson-core', version: '2.12.3'
    implementation 'io.github.bonigarcia:webdrivermanager:5.9.2'
   // implementation group: 'io.github.bonigarcia', name: 'webdrivermanager', version: '5.6.3'
}
